<html>
    <head>
        <style type="text/css">
            * {
                box-sizing: border-box;
            }
            body {
                background-color: #222;
                margin: 0;
            }
            .mainContainer {
                display: flex;
                flex-direction: row;
            }
            .canvasContainer {
                flex: 1;
            }
            .settingsContainer {
                background-color: #444;
                color: white;
                display: flex;
                flex-direction: column;
                padding: 4px;
                width: 300px
            }
            .settingsRow {
                display: flex;
                flex-direction: row;
                margin-bottom: 4px;
                margin-top: 4px;
            }
            .settingsRow > input {
                flex: 1;
                margin-left: 4px;
                margin-right: 4px;
                min-width: 0;
            }
            #canvas {
                height: 100%;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div class="mainContainer">
            <div class="canvasContainer">
                <canvas id="canvas"></canvas>
            </div>
            <form name="settingsForm" class="settingsContainer" onsubmit="onClickRender()">
                <div class="settingsRow">
                    <label>Xmin:</label>
                    <input id="XMin" value="-2.5" type="number" step="0.05">
                    <label>Xmax:</label>
                    <input id="XMax" value="1.5" type="number" step="0.05">
                </div>
                <div class="settingsRow">
                    <label>Ymin:</label>
                    <input id="YMin" value="-1.25" type="number" step="0.05">
                    <label>Ymax:</label>
                    <input id="YMax" value="1.25" type="number" step="0.05">
                </div>
                <div class="settingsRow">
                    <label>Max Iterations:</label>
                    <input id="MaxIterations" value="100" type="number" step="1">
                </div>
                <div class="settingsRow">
                    <input type="button" value="RENDER" onclick="onClickRender()">
                </div>
            </form>
        </div>
        
        <script src="mandelbrot.js" type="text/javascript"></script>
        <script type="text/javascript">
            function onClickRender() {
                const getIntInput = (name) =>
                    Number.parseFloat(document.forms['settingsForm'][name].value);

                const parameters = {
                    bounds: {
                        xMin: getIntInput('XMin'),
                        xMax: getIntInput('XMax'),
                        yMin: getIntInput('YMin'),
                        yMax: getIntInput('YMax'),
                    },
                    maxIterations: getIntInput('MaxIterations')
                };

                drawMandelbrot('.canvasContainer', parameters);
            }
        </script>
    </body>
</html>